import{O as k,r as S,a2 as o,j as e,m as U,bR as A}from"./index-Cu8pFRnJ.js";import{M as _}from"./Modal-TucfMV9U.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=k("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=k("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=k("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=k("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),W=({data:l,columns:j,isLoading:m=!1,currentPage:s,totalPages:d,onPageChange:c,itemsPerPage:x,totalItems:h,sortColumn:z,sortOrder:$,onSort:F,rowClassName:p,isSelectionEnabled:b=!1,selectedItemIds:f=new Set,onSelectItem:v,onSelectAllItems:w,highlightedRowId:N=null})=>{const[L,C]=S.useState(!1),[T,O]=S.useState(""),n=o.useRef(null),M={showModal:r=>{O(r),C(!0)}};return o.useEffect(()=>{if(b&&n.current){const r=l.map(a=>a.id),i=r.filter(a=>f.has(a)).length;i===0?(n.current.checked=!1,n.current.indeterminate=!1):i===r.length&&r.length>0?(n.current.checked=!0,n.current.indeterminate=!1):(n.current.checked=!1,n.current.indeterminate=!0)}},[b,f,l]),m?e.jsx(U,{type:"table",count:x||5,message:"Loading entries..."}):!l&&!m?e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 text-center",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No data available (data is undefined)"})}):l.length===0&&!m?e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 text-center",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No data available"})}):e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 rounded-lg shadow-sm table-fixed",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:[b&&e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:e.jsx("input",{type:"checkbox",ref:n,className:"form-checkbox h-4 w-4 text-blue-600 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:checked:bg-blue-600 dark:checked:border-transparent",onChange:r=>{w&&w(r.target.checked)}})}),j.map(r=>e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:r.sortable?e.jsxs("button",{onClick:()=>F(r.key),className:"flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 focus:outline-none",children:[e.jsx("span",{children:r.header}),z===r.key&&($==="asc"?e.jsx(K,{size:14}):e.jsx(B,{size:14}))]}):r.header},r.key))]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:l.map((r,i)=>{const a=typeof p=="function"?p(r,i):p,R=f.has(r.id);return e.jsxs("tr",{className:`transition-colors 
                            ${a||""} 
                            ${R?"bg-sky-100 dark:bg-sky-800 hover:bg-sky-200 dark:hover:bg-sky-700":"hover:bg-gray-50 dark:hover:bg-gray-700"}
                            ${N!==null&&String(r.id)===String(N)?"bg-yellow-200 dark:bg-yellow-700 ring-2 ring-yellow-500 ring-offset-1 dark:ring-offset-gray-800":""}`,children:[b&&e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:checked:bg-blue-600 dark:checked:border-transparent",checked:R,onChange:t=>{v&&v(r.id,t.target.checked)},onClick:t=>t.stopPropagation()})}),j.map(t=>{if(t.key==="description"&&!t.render){const y=o.useRef(null),[E,H]=o.useState(!1),g=String(r[t.key]??"");return o.useLayoutEffect(()=>{if(y.current){const u=y.current.scrollHeight>y.current.clientHeight;H(u)}},[g,r.id]),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 dark:text-gray-300 max-w-md break-words",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("div",{className:"min-w-0 flex-1",children:e.jsx("span",{ref:y,className:"line-clamp-3",title:g,children:g})}),E&&e.jsx("button",{onClick:u=>{u.stopPropagation(),M.showModal(g)},className:"p-1 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 flex-shrink-0",title:"Read More",children:e.jsx(A,{size:16})})]})},`${t.key}-desc`)}const q=t.render?t.render(r,M):String(r[t.key]??"");let D="px-6 py-4 text-sm text-gray-700 dark:text-gray-300";return t.key!=="description"&&(D+=" whitespace-nowrap"),e.jsx("td",{className:D,children:q},t.key)})]},r.id||i)})})]})}),e.jsx(_,{isOpen:L,onClose:()=>C(!1),title:"Full Description",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:T})}),d>0&&e.jsxs("div",{className:"py-4 flex items-center justify-between bg-white dark:bg-gray-800 px-4 rounded-b-lg shadow-sm border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>c(s-1),disabled:s<=1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50",children:"Previous"}),e.jsx("button",{onClick:()=>c(s+1),disabled:s>=d,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",e.jsx("span",{className:"font-medium",children:s})," of ",e.jsx("span",{className:"font-medium",children:d}),h&&x&&e.jsxs("span",{className:"ml-2",children:["(Showing ",Math.min((s-1)*x+1,h),"- ",Math.min(s*x,h)," of ",h," items)"]})]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>c(s-1),disabled:s<=1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(G,{className:"h-5 w-5","aria-hidden":"true"})]}),Array.from({length:Math.min(5,d)},(r,i)=>{let a=i+1;return d>5&&s>3&&(a=s-2+i,a>d-2&&d>5&&(a=d-4+i)),a<1||a>d?null:e.jsx("button",{onClick:()=>c(a),"aria-current":s===a?"page":void 0,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium
                                ${s===a?"z-10 bg-blue-50 dark:bg-blue-800 border-blue-500 dark:border-blue-700 text-blue-600 dark:text-blue-300":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:a},a)}),e.jsxs("button",{onClick:()=>c(s+1),disabled:s>=d,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(J,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})};export{K as C,W as D};
